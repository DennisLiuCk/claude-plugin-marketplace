# Feature Dev 插件

系統化的功能開發工作流程，包含三個專門代理用於程式碼庫探索、架構設計和程式碼審查。

## 功能特色

此插件提供完整的七階段功能開發流程，從需求分析到程式碼審查，確保每個新功能都經過深思熟慮且符合專案標準。

### 核心命令

#### `/feature-dev` - 功能開發工作流程

啟動系統化的功能開發流程，包括：

1. **發現與理解**：釐清功能需求和目標
2. **程式碼庫探索**：深入分析現有架構和模式
3. **提出澄清問題**：解決所有模糊之處
4. **架構設計**：評估多種方案並推薦最佳設計
5. **實作**：依照選定的架構建構功能
6. **品質審查**：確保程式碼品質和正確性
7. **總結**：記錄完成的工作和後續步驟

### 專門代理

#### code-explorer（程式碼探索者）

深入分析現有程式碼庫功能的專家代理。

**能力**：
- 追蹤執行路徑和資料流
- 映射架構層次和元件關係
- 理解設計模式和抽象化
- 記錄相依性和整合點

**使用時機**：
- 需要理解現有功能的實作方式
- 探索類似功能作為參考
- 分析系統架構
- 識別可重用的元件

#### code-architect（程式碼架構師）

設計功能架構和實作藍圖的專家代理。

**能力**：
- 分析需求和約束條件
- 提出多種實作方案
- 評估權衡和取捨
- 推薦最適合的解決方案

**使用時機**：
- 設計新功能的架構
- 評估不同實作方法
- 確保設計符合程式碼庫慣例
- 規劃可擴展的解決方案

#### code-reviewer（程式碼審查者）

審查程式碼品質和正確性的專家代理。

**能力**：
- 發現錯誤和潛在問題
- 檢查程式碼品質和可維護性
- 驗證遵循專案慣例
- 提供具體的改進建議

**使用時機**：
- 審查新功能的實作
- 確保程式碼品質
- 驗證最佳實踐
- 識別改進機會

## 系統需求

- Claude Code CLI
- Git（用於專案管理）

## 安裝方式

使用 NPM 安裝：

```bash
npx @claude-plugin/install github:DennisLiuCk/claude-plugin-marketplace/plugins/feature-dev
```

或手動安裝：

```bash
cp -r plugins/feature-dev ~/.claude/plugins/
```

## 使用說明

### 啟動工作流程

只需告訴 Claude 您想要開發什麼功能：

```
我想新增一個使用者登入功能
```

或明確使用命令：

```
/feature-dev 我需要實作資料匯出功能
```

### 工作流程範例

#### 範例一：新增使用者驗證

```
使用者：我需要新增電子郵件驗證功能

Claude：[階段一：發現與理解]
讓我先了解一些細節：
- 驗證流程為何？（發送驗證連結 vs 輸入驗證碼）
- Token 的有效期限是多久？
- 未驗證使用者的存取限制？

使用者：發送驗證連結，Token 24 小時有效，未驗證使用者只能查看但不能操作

Claude：[階段二：程式碼庫探索]
啟動 code-explorer 代理分析現有的使用者系統和郵件服務...

[code-explorer 報告]
找到相關元件：
- src/models/User.js：使用者模型
- src/services/email.js：郵件發送服務
- src/services/token.js：Token 管理

Claude：[階段三：澄清問題]
基於程式碼庫分析，還有幾個問題：
- 使用者變更電子郵件時如何處理？
- 驗證連結過期後如何重新發送？
- 是否需要驗證記錄以供審計？

使用者：[回答問題...]

Claude：[階段四：架構設計]
根據需求和現有架構，我提出兩種方案：

方案 A：使用 JWT token
- 優點：無狀態，容易實作
- 缺點：無法撤銷，安全性較低

方案 B：資料庫 token
- 優點：可撤銷，更安全
- 缺點：需要資料庫查詢

推薦：方案 B - 安全性和可控性更重要

使用者：同意，使用方案 B

Claude：[階段五：實作]
開始實作...
1. 建立 EmailVerification 模型
2. 實作驗證郵件發送
3. 新增驗證端點
4. 更新使用者模型

[實作完成]

Claude：[階段六：品質審查]
啟動 code-reviewer 代理審查實作...

[code-reviewer 報告]
整體評價：良好
發現：
✓ 實作正確
✓ 遵循專案慣例
⚠ 建議新增速率限制
⚠ 可以提高測試覆蓋率

[修復建議的問題...]

Claude：[階段七：總結]
功能開發完成！

完成項目：
- EmailVerification 模型（src/models/EmailVerification.js）
- 驗證郵件服務（src/services/verification.js）
- API 端點：POST /api/verify-email
- 測試覆蓋率：85%

後續建議：
- 進行端對端測試
- 更新 API 文件
- 監控驗證成功率
```

## 最佳實踐

### 1. 詳細描述需求

提供越多背景資訊越好：
- 功能的目的和價值
- 目標使用者
- 預期的使用場景
- 任何已知的限制

### 2. 回答澄清問題

不要跳過澄清階段：
- 這些問題幫助避免後續返工
- 及早發現模糊之處
- 確保實作符合期望

### 3. 審查設計方案

在實作前仔細審查：
- 理解每個方案的權衡
- 考慮長期影響
- 確認符合專案目標

### 4. 測試實作

在標記完成前測試功能：
- 驗證核心功能
- 測試邊緣案例
- 檢查錯誤處理
- 確認效能

### 5. 記錄決策

保留重要決策的記錄：
- 為什麼選擇這個方案
- 考慮了哪些替代方案
- 有哪些已知限制
- 未來的改進方向

## 工作流程詳解

### 階段一：發現與理解

**目標**：清楚定義要建構什麼

**關鍵活動**：
- 討論功能的目的和價值
- 定義功能範圍和邊界
- 識別約束條件
- 建立成功標準

**輸出**：明確的功能需求

### 階段二：程式碼庫探索

**目標**：深入理解現有架構

**關鍵活動**：
- 使用 code-explorer 代理分析程式碼庫
- 尋找類似的功能實作
- 識別可重用的元件
- 理解現有模式和慣例

**輸出**：程式碼庫分析報告

### 階段三：提出澄清問題

**目標**：解決所有模糊之處

**關鍵活動**：
- 識別未明確的需求
- 提出關於邊緣案例的問題
- 澄清錯誤處理策略
- 確認整合點

**重要**：等待回答後再繼續

**輸出**：已解答的問題清單

### 階段四：架構設計

**目標**：設計最佳的實作方案

**關鍵活動**：
- 提出多種實作方法
- 分析優缺點和權衡
- 推薦最適合的方案
- 提供詳細的實作計畫

**輸出**：架構設計文件

### 階段五：實作

**目標**：建構功能

**關鍵活動**：
- 依照選定的架構實作
- 遵循程式碼庫慣例
- 包含適當的錯誤處理
- 新增必要的測試

**前提**：獲得使用者批准

**輸出**：完整的功能實作

### 階段六：品質審查

**目標**：確保程式碼品質

**關鍵活動**：
- 使用 code-reviewer 代理審查程式碼
- 識別問題和改進機會
- 修復發現的問題
- 確認符合標準

**輸出**：審查報告和改進

### 階段七：總結

**目標**：記錄工作成果

**關鍵活動**：
- 總結完成的功能
- 記錄關鍵決策
- 列出修改的檔案
- 建議後續步驟

**輸出**：專案總結文件

## 使用場景

### 適合使用此工作流程的情況

- 中大型功能開發
- 需要深入理解程式碼庫
- 重要且影響廣泛的變更
- 學習新專案
- 需要系統化方法的任務

### 不適合的情況

- 簡單的錯誤修復
- 微小的文字或樣式調整
- 緊急熱修復
- 已經完全理解的簡單任務

對於簡單任務，直接實作會更有效率。

## 代理詳細說明

### code-explorer

**顏色識別**：黃色

**模型**：Sonnet

**可用工具**：
- Glob：尋找檔案
- Grep：搜尋程式碼
- Read：閱讀檔案
- Bash：執行命令
- TodoWrite：追蹤進度

**分析方法**：
1. 建立概覽
2. 追蹤執行流程
3. 分析架構
4. 記錄發現

**輸出包含**：
- 執行摘要
- 進入點列表
- 詳細執行流程
- 架構圖
- 相依性清單
- 改進建議

### code-architect

**顏色識別**：藍色

**模型**：Sonnet

**可用工具**：
- Read：閱讀程式碼
- Glob：尋找檔案
- Grep：搜尋模式
- TodoWrite：追蹤設計

**設計方法**：
1. 理解需求
2. 分析程式碼庫
3. 設計多個方案
4. 推薦最佳方案

**輸出包含**：
- 需求摘要
- 程式碼庫分析
- 方案選項
- 推薦方案
- 實作計畫
- 風險分析

### code-reviewer

**顏色識別**：紫色

**模型**：Sonnet

**可用工具**：
- Read：閱讀程式碼
- Glob：尋找檔案
- Grep：搜尋模式
- Bash：執行測試
- TodoWrite：追蹤審查

**審查方法**：
1. 理解變更
2. 功能審查
3. 品質審查
4. 標準審查
5. 安全和效能
6. 測試和文件

**輸出包含**：
- 執行摘要
- 詳細發現（重大/重要/建議）
- 正面回饋
- 程式碼品質評分
- 檔案層級評論
- 行動項目

## 疑難排解

### 工作流程中斷

如果工作流程意外中斷：
1. 記錄目前進度
2. 儲存已完成的工作
3. 從最後完成的階段重新開始

### 代理未觸發

如果代理沒有啟動：
1. 確認插件已正確安裝
2. 檢查觸發描述是否匹配
3. 嘗試使用更明確的語言

### 設計方案不滿意

如果對提出的方案不滿意：
1. 提供更多約束條件
2. 說明偏好的方向
3. 要求探索其他選項

## 進階使用

### 自訂工作流程

您可以調整工作流程以適應需求：
- 跳過某些階段（如已經理解程式碼庫）
- 多次迭代某個階段
- 並行執行多個代理

### 與其他插件配合

可與以下插件搭配使用：
- **commit-commands**：完成後提交變更
- **security-guidance**：實作時檢查安全性
- **code-review**：額外的程式碼審查

### 團隊協作

在團隊中使用：
- 使用工作流程確保一致性
- 分享代理報告作為文件
- 將審查結果用於知識分享

## 版本資訊

- **版本**：1.0.0
- **作者**：David Dworken (繁體中文版)
- **最後更新**：2025

## 相關資源

### Claude Code 文件

- [Claude Code 插件文件](https://docs.claude.com/en/docs/claude-code/plugins)
- [代理開發指南](https://docs.claude.com/en/docs/claude-code/agents)
- [命令開發指南](https://docs.claude.com/en/docs/claude-code/commands)

### 軟體開發最佳實踐

- [SOLID 原則](https://en.wikipedia.org/wiki/SOLID)
- [設計模式](https://refactoring.guru/design-patterns)
- [程式碼審查最佳實踐](https://google.github.io/eng-practices/review/)

## 意見回饋

如有任何問題、建議或改進想法，歡迎在 GitHub 建立 Issue！
